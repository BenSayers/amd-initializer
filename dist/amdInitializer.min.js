/*! amdInitializer v0.0.11 | (c) 2014 Ben Sayers | Released under the MIT licence */

define("amdInitializer/require",["require"],function(e){return e}),define("amdInitializer/moduleLoaderFactory",["jquery","amdInitializer/require"],function(e,t){var n=function(n){return{load:function(){var r=new e.Deferred,i=e(this),s=i.data();return i.attr("data-module-loaded")==="true"?(r.resolve(s.moduleName),r.promise()):(i.attr("data-module-loaded","true"),t([s.moduleName],function(t){var o=e.extend({},s);delete o.moduleName;try{t.load(i,o)}catch(u){n.moduleErrorCallbacks.fire({exception:u})}return n.moduleLoadedCallbacks.fire({name:s.moduleName}),r.resolve(s.moduleName)}),r.promise())}}};return{create:function(e){return n(e)}}}),define("amdInitializer/domWatcherFactory",["jquery","skate"],function(e,t){var n=function(n,r){return n.watchDom?t(n.selector,function(e){r.load.apply(e)}):{deafen:e.noop}};return{create:function(e,t){return n(e,t)}}}),define("amdInitializer",["jquery","amdInitializer/moduleLoaderFactory","amdInitializer/domWatcherFactory"],function(e,t,n){var r={watchDom:!0},i=function(i){var s={moduleErrorCallbacks:e.Callbacks(),moduleLoadedCallbacks:e.Callbacks()},o=e.extend({},r,i,s),u=t.create(o),a=n.create(o,u),f=e("body").find(o.selector).map(u.load).toArray();return{initialModulesLoaded:e.when.apply(e,f).promise(),onModuleError:function(e){o.moduleErrorCallbacks.add(e)},onModuleLoaded:function(e){o.moduleLoadedCallbacks.add(e)},unload:function(){a.deafen()}}};return{load:function(e){return i(e)}}});