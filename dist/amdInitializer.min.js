/*! amdInitializer v0.0.9 | (c) 2014 Ben Sayers | Released under the MIT licence */

define("amdInitializer/require",["require"],function(e){return e}),define("amdInitializer/moduleLoaderFactory",["jquery","amdInitializer/require"],function(e,t){var n=function(n,r){return{load:function(){var n=new e.Deferred,i=e(this),s=i.data();return i.attr("data-module-loaded")==="true"?(n.resolve(s.moduleName),n.promise()):(i.attr("data-module-loaded","true"),t([s.moduleName],function(t){var o=e.extend({},s);delete o.moduleName;try{t.load(i,o)}catch(u){}return r.fire({name:s.moduleName}),n.resolve(s.moduleName)}),n.promise())}}};return{create:function(e,t){return n(e,t)}}}),define("amdInitializer/domWatcherFactory",["skate"],function(e){var t=function(t,n){return t.watchDom?e(t.selector,function(e){n.load.apply(e)}):{destroy:$.noop}};return{create:function(e,n){return t(e,n)}}}),define("amdInitializer",["jquery","skate","amdInitializer/moduleLoaderFactory","amdInitializer/domWatcherFactory"],function(e,t,n,r){var i={watchDom:!0},s=function(t){var s=e.extend({},i,t),o=e.Callbacks(),u=n.create(s,o),a=r.create(s,u),f=e("body").find(s.selector).map(u.load).toArray();return{initialModulesLoaded:e.when.apply(e,f).promise(),onModuleLoaded:function(e){o.add(e)},unload:function(){a.destroy()}}};return{load:function(e){return s(e)}}});